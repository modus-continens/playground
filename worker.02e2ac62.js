(()=>{function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},i=n.parcelRequire7ebf;let s;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequire7ebf=i),i.register("bGWGM",(function(t,n){var r,o;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var i={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("8IoA4",(function(t,n){var r;e(t.exports,"getBundleURL",(()=>r),(e=>r=e));var o={};function i(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),o[e]=t),t}})),i("bGWGM").register(JSON.parse('{"g5kKs":"worker.02e2ac62.js","1akT1":"modus_playground_bg.56f45dc8.wasm"}'));let a=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});a.decode();let u=null;function l(){return null!==u&&u.buffer===s.memory.buffer||(u=new Uint8Array(s.memory.buffer)),u}function c(e,t){return a.decode(l().subarray(e,e+t))}const f=new Array(32).fill(void 0);f.push(void 0,null,!0,!1);let g=f.length;let h=null;function d(){return null!==h&&h.buffer===s.memory.buffer||(h=new Int32Array(s.memory.buffer)),h}let b=null;function y(e){const t=function(e){return f[e]}(e);return function(e){e<36||(f[e]=g,g=e)}(e),t}function p(e,t){const n=(null!==b&&b.buffer===s.memory.buffer||(b=new Uint32Array(s.memory.buffer)),b).subarray(e/4,e/4+t),r=[];for(let e=0;e<n.length;e++)r.push(y(n[e]));return r}let _=0,w=new TextEncoder("utf-8");const m="function"==typeof w.encodeInto?function(e,t){return w.encodeInto(e,t)}:function(e,t){const n=w.encode(e);return t.set(n),{read:e.length,written:n.length}};function v(e,t,n){if(void 0===n){const n=w.encode(e),r=t(n.length);return l().subarray(r,r+n.length).set(n),_=n.length,r}let r=e.length,o=t(r);const i=l();let s=0;for(;s<r;s++){const t=e.charCodeAt(s);if(t>127)break;i[o+s]=t}if(s!==r){0!==s&&(e=e.slice(s)),o=n(o,r,r=s+3*e.length);const t=l().subarray(o+s,o+r);s+=m(e,t).written}return _=s,o}class k{static __wrap(e){const t=Object.create(k.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();s.__wbg_modusresult_free(e)}get success(){return 0!==s.__wbg_get_modusresult_success(this.ptr)}set success(e){s.__wbg_set_modusresult_success(this.ptr,e)}get get_errors(){try{const n=s.__wbindgen_add_to_stack_pointer(-16);s.modusresult_get_errors(n,this.ptr);var e=d()[n/4+0],t=d()[n/4+1];return c(e,t)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(e,t)}}get get_proofs(){try{const r=s.__wbindgen_add_to_stack_pointer(-16);s.modusresult_get_proofs(r,this.ptr);var e=d()[r/4+0],t=d()[r/4+1],n=p(e,t).slice();return s.__wbindgen_free(e,4*t),n}finally{s.__wbindgen_add_to_stack_pointer(16)}}}var C;C=i("8IoA4").getBundleURL("g5kKs")+i("bGWGM").resolve("1akT1");var A,B=async function e(t){void 0===t&&(t=new URL(C));const n={wbg:{}};n.wbg.__wbindgen_string_new=function(e,t){return function(e){g===f.length&&f.push(f.length+1);const t=g;return g=f[t],f[t]=e,t}(c(e,t))},n.wbg.__wbindgen_throw=function(e,t){throw new Error(c(e,t))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,n);return s=r.exports,e.__wbindgen_wasm_module=o,s},x=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function S(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var L=Object,M=["black","red","green","yellow","blue","magenta","cyan","lightGray","","default"],E=["darkGray","lightRed","lightGreen","lightYellow","lightBlue","lightMagenta","lightCyan","white",""],j=["","bright","dim","italic","underline","","","inverse"],O={red:"lightRed",green:"lightGreen",yellow:"lightYellow",blue:"lightBlue",magenta:"lightMagenta",cyan:"lightCyan",black:"darkGray",lightGray:"white"},U={0:"style",2:"unstyle",3:"color",9:"colorLight",4:"bgColor",10:"bgColorLight"},I={color:M,colorLight:E,bgColor:M,bgColorLight:E,style:j,unstyle:j},T=function(e){for(var t in e)e[t]||delete e[t];return 0===L.keys(e).length?void 0:e},W=function(){function e(t,n,r){G(this,e),this.background=t,this.name=n,this.brightness=r}return R(e,[{key:"defaultBrightness",value:function(t){return new e(this.background,this.name,this.brightness||t)}},{key:"css",value:function(e){var t=e?this.inverse:this,n=t.brightness===q.bright&&O[t.name]||t.name,r=t.background?"background:":"color:",o=N.rgb[n],i=this.brightness===q.dim?.5:1;return o?r+"rgba("+[].concat(S(o),[i]).join(",")+");":!t.background&&i<1?"color:rgba(0,0,0,0.5);":""}},{key:"inverse",get:function(){return new e(!this.background,this.name||(this.background?"black":"white"),this.brightness)}},{key:"clean",get:function(){return T({name:"default"===this.name?"":this.name,bright:this.brightness===q.bright,dim:this.brightness===q.dim})}}]),e}(),q=function(){function e(t){G(this,e),void 0!==t&&(this.value=Number(t))}return R(e,[{key:"type",get:function(){return U[Math.floor(this.value/10)]}},{key:"subtype",get:function(){return I[this.type][this.value%10]}},{key:"str",get:function(){return this.value?"["+this.value+"m":""}},{key:"isBrightness",get:function(){return this.value===e.noBrightness||this.value===e.bright||this.value===e.dim}}],[{key:"str",value:function(t){return new e(t).str}}]),e}();L.assign(q,{reset:0,bright:1,dim:2,inverse:7,noBrightness:22,noItalic:23,noUnderline:24,noInverse:27,noColor:39,noBgColor:49});var F=function(e,t,n){var r=q.str(t),o=q.str(n);return String(e).split("\n").map((function(e){return function(e){return e.replace(/(\u001b\[(1|2)m)/g,"[22m$1")}(r+(t=e.replace(/\u001b\[22m(\u001b\[(1|2)m)/g,"$1"),n=o,i=r,t.split(n).join(i))+o);var t,n,i})).join("\n")},P=function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)},H=[].concat(S(M.map((function(e,t){return e?[[e,30+t,q.noColor],[P("bg",e),40+t,q.noBgColor]]:[]}))),S(E.map((function(e,t){return e?[[e,90+t,q.noColor],[P("bg",e),100+t,q.noBgColor]]:[]}))),S(["","BrightRed","BrightGreen","BrightYellow","BrightBlue","BrightMagenta","BrightCyan"].map((function(e,t){return e?[["bg"+e,100+t,q.noBgColor]]:[]}))),S(j.map((function(e,t){return e?[[e,t,"bright"===e||"dim"===e?q.noBrightness:20+t]]:[]})))).reduce((function(e,t){return e.concat(t)}));var N=function(){function e(t){G(this,e),this.spans=t?function(e){for(var t=0,n="",r="",o="",i=[],s=[],a=0,u=e.length;a<u;a++){var l=e[a];switch(n+=l,t){case 0:""===l?(t=1,n=l):r+=l;break;case 1:"["===l?(t=2,o="",i=[]):(t=0,r+=n);break;case 2:if(l>="0"&&l<="9")o+=l;else if(";"===l)i.push(new q(o)),o="";else if("m"===l){o=o||"0",i.push(new q(o));var c=!0,f=!1,g=void 0;try{for(var h,d=i[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var b=h.value;s.push({text:r,code:b}),r=""}}catch(e){f=!0,g=e}finally{try{!c&&d.return&&d.return()}finally{if(f)throw g}}t=0}else t=0,r+=n}}return 0!==t&&(r+=n),r&&s.push({text:r,code:new q}),s}(t):[]}return R(e,[{key:Symbol.iterator,value:function(){return this.spans[Symbol.iterator]()}},{key:"str",get:function(){return this.spans.reduce((function(e,t){return e+t.text+t.code.str}),"")}},{key:"parsed",get:function(){var t=void 0,n=void 0,r=void 0,o=void 0;function i(){t=new W,n=new W(!0),r=void 0,o=new Set}return i(),L.assign(new e,{spans:this.spans.map((function(e){var s=e.code,a=o.has("inverse"),u=o.has("underline")?"text-decoration: underline;":"",l=o.has("italic")?"font-style: italic;":"",c=r===q.bright?"font-weight: bold;":"",f=t.defaultBrightness(r),g=L.assign({css:c+l+u+f.css(a)+n.css(a)},T({bold:!!c,color:f.clean,bgColor:n.clean}),e),h=!0,d=!1,b=void 0;try{for(var y,p=o[Symbol.iterator]();!(h=(y=p.next()).done);h=!0){g[y.value]=!0}}catch(e){d=!0,b=e}finally{try{!h&&p.return&&p.return()}finally{if(d)throw b}}if(s.isBrightness)r=s.value;else if(void 0!==e.code.value)if(e.code.value===q.reset)i();else switch(e.code.type){case"color":case"colorLight":t=new W(!1,s.subtype);break;case"bgColor":case"bgColorLight":n=new W(!0,s.subtype);break;case"style":o.add(s.subtype);break;case"unstyle":o.delete(s.subtype)}return g})).filter((function(e){return e.text.length>0}))})}},{key:"asChromeConsoleLogArguments",get:function(){var e=this.parsed.spans;return[e.map((function(e){return"%c"+e.text})).join("")].concat(S(e.map((function(e){return e.css}))))}},{key:"browserConsoleArguments",get:function(){return this.asChromeConsoleLogArguments}}],[{key:"parse",value:function(t){return new e(t).parsed}},{key:"strip",value:function(e){return e.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g,"")}},{key:"isEscaped",value:function(t){return t=String(t),e.strip(t)!==t}},{key:"nice",get:function(){return e.names.forEach((function(t){t in String.prototype||L.defineProperty(String.prototype,t,{get:function(){return e[t](this)}})})),e}},{key:"ansicolor",get:function(){return e}}]),e}();!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return H.reduce((function(t,r){var o=x(r,3),i=o[0],s=o[1],a=o[2];return L.defineProperty(t,i,{get:function(){return e((function(e){return n(F(e,s,a))}))}})}),t)}(N,(function(e){return e})),N.names=H.map((function(e){return x(e,1)[0]})),N.rgb={black:[0,0,0],darkGray:[100,100,100],lightGray:[200,200,200],white:[255,255,255],red:[204,0,0],lightRed:[255,51,0],green:[0,204,0],lightGreen:[51,204,51],yellow:[204,102,0],lightYellow:[255,153,51],blue:[0,0,255],lightBlue:[26,140,255],magenta:[204,0,204],lightMagenta:[255,0,255],cyan:[0,153,255],lightCyan:[0,204,255]},A=N;let Y=null,$=!1;function D(){if(null===Y)return;let e,n=[],r=Y.query_id;try{o=Y.modusfile,i=Y.query,a=v(o,s.__wbindgen_malloc,s.__wbindgen_realloc),u=_,l=v(i,s.__wbindgen_malloc,s.__wbindgen_realloc),c=_,f=s.get_proof_tree(a,u,l,c),e=k.__wrap(f)}catch(t){e=null,n.push(t.toString())}var o,i,a,u,l,c,f;if(e){let t=e.get_errors;if(t.trim().length>0&&n.push(t),e.success)for(let t of e.get_proofs)n.push(t);else n.push("Failed to generate proof.")}n=n.join("\n"),postMessage({query_id:r,res:t(A).parse(n)}),Y=null}self.onmessage=function({data:e}){Y=e,$&&D()},B().then((()=>{D(),$=!0}))})();
//# sourceMappingURL=worker.02e2ac62.js.map
